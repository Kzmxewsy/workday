var app=new Vue({el:"#app",data:{hour:0,minute:0,standard_h:7,standard_m:15,result_d:0,result_h:0,result_m:0,result_ds:0,result_hs:0,result_ms:0,seen:false,history:[],hours:0,minutes:0,count:0,tip:"",isReadOnly:false},methods:{gettime:function(){var c=this.checkdata();if(!c){return false}var d=this.convert(this.hour,this.minute);this.result_d=d[0];this.result_h=d[1];this.result_m=d[2];this.addhistory();this.isReadOnly=true;this.getsum()},convert:function(k,b){var t=parseInt(this.standard_h)*60+parseInt(this.standard_m),o=Math.floor(k*60),p=Math.floor(b),q=(o+p)/t,r,n,l,j;n=Math.floor(q);r=(o+p)-(n*t);l=Math.floor(r/60);j=Math.floor(r%60);return[n,l,j]},addhistory:function(){this.hours+=parseInt(this.hour);this.minutes+=parseInt(this.minute);this.history.unshift({input:parseInt(this.hour)+" 小时 "+parseInt(this.minute)+" 分钟",text:this.result_d+" 天 "+this.result_h+" 小时 "+this.result_m+" 分钟"});this.count=this.history.length},checkdata:function(){if(this.standard_h==0&&this.standard_m==0){this.tip="时间基准不能为零";this.seen=true;return false}if(parseInt(this.hour)!=parseFloat(this.hour)||parseInt(this.minute)!=parseFloat(this.minute)){this.result_d=0;this.result_h=0;this.result_m=0;this.tip="请输入整数";this.seen=true;return false}this.seen=false;return true},clearhistory:function(){this.hour=0;this.minute=0;this.count=0;this.hours=0;this.minutes=0;this.history=[];this.isReadOnly=false;this.getsum()},getsum:function(){var b=this.convert(this.hours,this.minutes);this.result_ds=b[0];this.result_hs=b[1];this.result_ms=b[2]}}});